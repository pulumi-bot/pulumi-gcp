// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

// nolint: lll
package sql

import (
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/go/pulumi"
)

// > This content is derived from https://github.com/terraform-providers/terraform-provider-google/blob/master/website/docs/r/sql_database_instance.html.markdown.
type DatabaseInstance struct {
	pulumi.CustomResourceState

	// The connection name of the instance to be used in
	// connection strings. For example, when connecting with [Cloud SQL Proxy](https://cloud.google.com/sql/docs/mysql/connect-admin-proxy).
	ConnectionName pulumi.StringOutput `pulumi:"connectionName"`
	// The MySQL, PostgreSQL or
	// SQL Server (beta) version to use. Supported values include `MYSQL_5_6`,
	// `MYSQL_5_7`, `POSTGRES_9_6`,`POSTGRES_11`, `SQLSERVER_2017_STANDARD`,
	// `SQLSERVER_2017_ENTERPRISE`, `SQLSERVER_2017_EXPRESS`, `SQLSERVER_2017_WEB`.
	// [Database Version Policies](https://cloud.google.com/sql/docs/sqlserver/db-versions)
	// includes an up-to-date reference of supported versions.
	DatabaseVersion pulumi.StringPtrOutput `pulumi:"databaseVersion"`
	FirstIpAddress pulumi.StringOutput `pulumi:"firstIpAddress"`
	IpAddresses DatabaseInstanceIpAddressArrayOutput `pulumi:"ipAddresses"`
	// The name of the instance that will act as
	// the master in the replication setup. Note, this requires the master to have
	// `binaryLogEnabled` set, as well as existing backups.
	MasterInstanceName pulumi.StringOutput `pulumi:"masterInstanceName"`
	// The name of the instance. If the name is left
	// blank, this provider will randomly generate one when the instance is first
	// created. This is done because after a name is used, it cannot be reused for
	// up to [one week](https://cloud.google.com/sql/docs/delete-instance).
	Name pulumi.StringOutput `pulumi:"name"`
	// The first private (`PRIVATE`) IPv4 address assigned. This provides a convenient way to access an IP of a specific type without
	// performing filtering.
	PrivateIpAddress pulumi.StringOutput `pulumi:"privateIpAddress"`
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project pulumi.StringOutput `pulumi:"project"`
	// The first public (`PRIMARY`) IPv4 address assigned. This provides a convenient way to access an IP of a specific type without
	// performing filtering.
	PublicIpAddress pulumi.StringOutput `pulumi:"publicIpAddress"`
	// The region the instance will sit in. Note, Cloud SQL is not
	// available in all regions - choose from one of the options listed [here](https://cloud.google.com/sql/docs/mysql/instance-locations).
	// A valid region must be provided to use this resource. If a region is not provided in the resource definition,
	// the provider region will be used instead, but this will be an apply-time error for instances if the provider
	// region is not supported with Cloud SQL. If you choose not to provide the `region` argument for this resource,
	// make sure you understand this.
	Region pulumi.StringOutput `pulumi:"region"`
	// The configuration for replication. The
	// configuration is detailed below.
	ReplicaConfiguration DatabaseInstanceReplicaConfigurationOutput `pulumi:"replicaConfiguration"`
	// ) Initial root password. Required for MS SQL Server, ignored by MySQL and PostgreSQL.
	RootPassword pulumi.StringPtrOutput `pulumi:"rootPassword"`
	// The URI of the created resource.
	SelfLink pulumi.StringOutput `pulumi:"selfLink"`
	ServerCaCert DatabaseInstanceServerCaCertOutput `pulumi:"serverCaCert"`
	// The service account email address assigned to the
	// instance.
	ServiceAccountEmailAddress pulumi.StringOutput `pulumi:"serviceAccountEmailAddress"`
	// The settings to use for the database. The
	// configuration is detailed below.
	Settings DatabaseInstanceSettingsOutput `pulumi:"settings"`
}

// NewDatabaseInstance registers a new resource with the given unique name, arguments, and options.
func NewDatabaseInstance(ctx *pulumi.Context,
	name string, args *DatabaseInstanceArgs, opts ...pulumi.ResourceOption) (*DatabaseInstance, error) {
	if args == nil || args.Settings == nil {
		return nil, errors.New("missing required argument 'Settings'")
	}
	if args == nil {
		args = &DatabaseInstanceArgs{}
	}
	var resource DatabaseInstance
	err := ctx.RegisterResource("gcp:sql/databaseInstance:DatabaseInstance", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetDatabaseInstance gets an existing DatabaseInstance resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetDatabaseInstance(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *DatabaseInstanceState, opts ...pulumi.ResourceOption) (*DatabaseInstance, error) {
	var resource DatabaseInstance
	err := ctx.ReadResource("gcp:sql/databaseInstance:DatabaseInstance", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering DatabaseInstance resources.
type databaseInstanceState struct {
	// The connection name of the instance to be used in
	// connection strings. For example, when connecting with [Cloud SQL Proxy](https://cloud.google.com/sql/docs/mysql/connect-admin-proxy).
	ConnectionName *string `pulumi:"connectionName"`
	// The MySQL, PostgreSQL or
	// SQL Server (beta) version to use. Supported values include `MYSQL_5_6`,
	// `MYSQL_5_7`, `POSTGRES_9_6`,`POSTGRES_11`, `SQLSERVER_2017_STANDARD`,
	// `SQLSERVER_2017_ENTERPRISE`, `SQLSERVER_2017_EXPRESS`, `SQLSERVER_2017_WEB`.
	// [Database Version Policies](https://cloud.google.com/sql/docs/sqlserver/db-versions)
	// includes an up-to-date reference of supported versions.
	DatabaseVersion *string `pulumi:"databaseVersion"`
	FirstIpAddress *string `pulumi:"firstIpAddress"`
	IpAddresses []DatabaseInstanceIpAddress `pulumi:"ipAddresses"`
	// The name of the instance that will act as
	// the master in the replication setup. Note, this requires the master to have
	// `binaryLogEnabled` set, as well as existing backups.
	MasterInstanceName *string `pulumi:"masterInstanceName"`
	// The name of the instance. If the name is left
	// blank, this provider will randomly generate one when the instance is first
	// created. This is done because after a name is used, it cannot be reused for
	// up to [one week](https://cloud.google.com/sql/docs/delete-instance).
	Name *string `pulumi:"name"`
	// The first private (`PRIVATE`) IPv4 address assigned. This provides a convenient way to access an IP of a specific type without
	// performing filtering.
	PrivateIpAddress *string `pulumi:"privateIpAddress"`
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project *string `pulumi:"project"`
	// The first public (`PRIMARY`) IPv4 address assigned. This provides a convenient way to access an IP of a specific type without
	// performing filtering.
	PublicIpAddress *string `pulumi:"publicIpAddress"`
	// The region the instance will sit in. Note, Cloud SQL is not
	// available in all regions - choose from one of the options listed [here](https://cloud.google.com/sql/docs/mysql/instance-locations).
	// A valid region must be provided to use this resource. If a region is not provided in the resource definition,
	// the provider region will be used instead, but this will be an apply-time error for instances if the provider
	// region is not supported with Cloud SQL. If you choose not to provide the `region` argument for this resource,
	// make sure you understand this.
	Region *string `pulumi:"region"`
	// The configuration for replication. The
	// configuration is detailed below.
	ReplicaConfiguration *DatabaseInstanceReplicaConfiguration `pulumi:"replicaConfiguration"`
	// ) Initial root password. Required for MS SQL Server, ignored by MySQL and PostgreSQL.
	RootPassword *string `pulumi:"rootPassword"`
	// The URI of the created resource.
	SelfLink *string `pulumi:"selfLink"`
	ServerCaCert *DatabaseInstanceServerCaCert `pulumi:"serverCaCert"`
	// The service account email address assigned to the
	// instance.
	ServiceAccountEmailAddress *string `pulumi:"serviceAccountEmailAddress"`
	// The settings to use for the database. The
	// configuration is detailed below.
	Settings *DatabaseInstanceSettings `pulumi:"settings"`
}

type DatabaseInstanceState struct {
	// The connection name of the instance to be used in
	// connection strings. For example, when connecting with [Cloud SQL Proxy](https://cloud.google.com/sql/docs/mysql/connect-admin-proxy).
	ConnectionName pulumi.StringPtrInput
	// The MySQL, PostgreSQL or
	// SQL Server (beta) version to use. Supported values include `MYSQL_5_6`,
	// `MYSQL_5_7`, `POSTGRES_9_6`,`POSTGRES_11`, `SQLSERVER_2017_STANDARD`,
	// `SQLSERVER_2017_ENTERPRISE`, `SQLSERVER_2017_EXPRESS`, `SQLSERVER_2017_WEB`.
	// [Database Version Policies](https://cloud.google.com/sql/docs/sqlserver/db-versions)
	// includes an up-to-date reference of supported versions.
	DatabaseVersion pulumi.StringPtrInput
	FirstIpAddress pulumi.StringPtrInput
	IpAddresses DatabaseInstanceIpAddressArrayInput
	// The name of the instance that will act as
	// the master in the replication setup. Note, this requires the master to have
	// `binaryLogEnabled` set, as well as existing backups.
	MasterInstanceName pulumi.StringPtrInput
	// The name of the instance. If the name is left
	// blank, this provider will randomly generate one when the instance is first
	// created. This is done because after a name is used, it cannot be reused for
	// up to [one week](https://cloud.google.com/sql/docs/delete-instance).
	Name pulumi.StringPtrInput
	// The first private (`PRIVATE`) IPv4 address assigned. This provides a convenient way to access an IP of a specific type without
	// performing filtering.
	PrivateIpAddress pulumi.StringPtrInput
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project pulumi.StringPtrInput
	// The first public (`PRIMARY`) IPv4 address assigned. This provides a convenient way to access an IP of a specific type without
	// performing filtering.
	PublicIpAddress pulumi.StringPtrInput
	// The region the instance will sit in. Note, Cloud SQL is not
	// available in all regions - choose from one of the options listed [here](https://cloud.google.com/sql/docs/mysql/instance-locations).
	// A valid region must be provided to use this resource. If a region is not provided in the resource definition,
	// the provider region will be used instead, but this will be an apply-time error for instances if the provider
	// region is not supported with Cloud SQL. If you choose not to provide the `region` argument for this resource,
	// make sure you understand this.
	Region pulumi.StringPtrInput
	// The configuration for replication. The
	// configuration is detailed below.
	ReplicaConfiguration DatabaseInstanceReplicaConfigurationPtrInput
	// ) Initial root password. Required for MS SQL Server, ignored by MySQL and PostgreSQL.
	RootPassword pulumi.StringPtrInput
	// The URI of the created resource.
	SelfLink pulumi.StringPtrInput
	ServerCaCert DatabaseInstanceServerCaCertPtrInput
	// The service account email address assigned to the
	// instance.
	ServiceAccountEmailAddress pulumi.StringPtrInput
	// The settings to use for the database. The
	// configuration is detailed below.
	Settings DatabaseInstanceSettingsPtrInput
}

func (DatabaseInstanceState) ElementType() reflect.Type {
	return reflect.TypeOf((*databaseInstanceState)(nil)).Elem()
}

type databaseInstanceArgs struct {
	// The MySQL, PostgreSQL or
	// SQL Server (beta) version to use. Supported values include `MYSQL_5_6`,
	// `MYSQL_5_7`, `POSTGRES_9_6`,`POSTGRES_11`, `SQLSERVER_2017_STANDARD`,
	// `SQLSERVER_2017_ENTERPRISE`, `SQLSERVER_2017_EXPRESS`, `SQLSERVER_2017_WEB`.
	// [Database Version Policies](https://cloud.google.com/sql/docs/sqlserver/db-versions)
	// includes an up-to-date reference of supported versions.
	DatabaseVersion *string `pulumi:"databaseVersion"`
	// The name of the instance that will act as
	// the master in the replication setup. Note, this requires the master to have
	// `binaryLogEnabled` set, as well as existing backups.
	MasterInstanceName *string `pulumi:"masterInstanceName"`
	// The name of the instance. If the name is left
	// blank, this provider will randomly generate one when the instance is first
	// created. This is done because after a name is used, it cannot be reused for
	// up to [one week](https://cloud.google.com/sql/docs/delete-instance).
	Name *string `pulumi:"name"`
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project *string `pulumi:"project"`
	// The region the instance will sit in. Note, Cloud SQL is not
	// available in all regions - choose from one of the options listed [here](https://cloud.google.com/sql/docs/mysql/instance-locations).
	// A valid region must be provided to use this resource. If a region is not provided in the resource definition,
	// the provider region will be used instead, but this will be an apply-time error for instances if the provider
	// region is not supported with Cloud SQL. If you choose not to provide the `region` argument for this resource,
	// make sure you understand this.
	Region *string `pulumi:"region"`
	// The configuration for replication. The
	// configuration is detailed below.
	ReplicaConfiguration *DatabaseInstanceReplicaConfiguration `pulumi:"replicaConfiguration"`
	// ) Initial root password. Required for MS SQL Server, ignored by MySQL and PostgreSQL.
	RootPassword *string `pulumi:"rootPassword"`
	// The settings to use for the database. The
	// configuration is detailed below.
	Settings DatabaseInstanceSettings `pulumi:"settings"`
}

// The set of arguments for constructing a DatabaseInstance resource.
type DatabaseInstanceArgs struct {
	// The MySQL, PostgreSQL or
	// SQL Server (beta) version to use. Supported values include `MYSQL_5_6`,
	// `MYSQL_5_7`, `POSTGRES_9_6`,`POSTGRES_11`, `SQLSERVER_2017_STANDARD`,
	// `SQLSERVER_2017_ENTERPRISE`, `SQLSERVER_2017_EXPRESS`, `SQLSERVER_2017_WEB`.
	// [Database Version Policies](https://cloud.google.com/sql/docs/sqlserver/db-versions)
	// includes an up-to-date reference of supported versions.
	DatabaseVersion pulumi.StringPtrInput
	// The name of the instance that will act as
	// the master in the replication setup. Note, this requires the master to have
	// `binaryLogEnabled` set, as well as existing backups.
	MasterInstanceName pulumi.StringPtrInput
	// The name of the instance. If the name is left
	// blank, this provider will randomly generate one when the instance is first
	// created. This is done because after a name is used, it cannot be reused for
	// up to [one week](https://cloud.google.com/sql/docs/delete-instance).
	Name pulumi.StringPtrInput
	// The ID of the project in which the resource belongs. If it
	// is not provided, the provider project is used.
	Project pulumi.StringPtrInput
	// The region the instance will sit in. Note, Cloud SQL is not
	// available in all regions - choose from one of the options listed [here](https://cloud.google.com/sql/docs/mysql/instance-locations).
	// A valid region must be provided to use this resource. If a region is not provided in the resource definition,
	// the provider region will be used instead, but this will be an apply-time error for instances if the provider
	// region is not supported with Cloud SQL. If you choose not to provide the `region` argument for this resource,
	// make sure you understand this.
	Region pulumi.StringPtrInput
	// The configuration for replication. The
	// configuration is detailed below.
	ReplicaConfiguration DatabaseInstanceReplicaConfigurationPtrInput
	// ) Initial root password. Required for MS SQL Server, ignored by MySQL and PostgreSQL.
	RootPassword pulumi.StringPtrInput
	// The settings to use for the database. The
	// configuration is detailed below.
	Settings DatabaseInstanceSettingsInput
}

func (DatabaseInstanceArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*databaseInstanceArgs)(nil)).Elem()
}

